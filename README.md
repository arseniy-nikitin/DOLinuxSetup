## Part 1 Установка ОС

1. Проверим версию установленной ОС.
  
   ![check os version](./screenshots/part1.png)

## Part 2 Создание пользователя

1. Создадим нового пользователя.

   ![creating user](./screenshots/part2-1.png)

  ---

2. Добавим нового пользователя в группу adm.

   ![adding user to group](./screenshots/part2-2.png)

  ---

3. Убедимся что наш пользователь отображается при вводе команды `cat /etc/passwd`.

  ![checking user](./screenshots/part2-3.png)

## Part 3 Настройка сети ОС

1. Назовем хоста как `user-1`.

   ![set host name](./screenshots/part3-1.png)

   ![check host name](./screenshots/part3-2.png)

  ---

2. Установим Московскую временную зону.

   ![set moscow time zone](./screenshots/part3-3.png)

  ---

3. Выведем названия сетевых интерфейсов в компактном виде при помощи `ip -br link show`.

   Флаги -br импользуются для сокращенного отображения параметров.

   ![get network interfaces names](./screenshots/part3-4.png)

   > **lo интерфейс** является виртуальным сетевым интерфейсом в компьютерных сетях. Он используется для установления связи внутри одного устройства или хоста. Интерфейс обратной петли получает IP-адрес 127.0.0.1, который позволяет устройству обмениваться данными с собой же, без необходимости использования физической сети или подключения к внешним устройствам. 

  ---

4. Получим ip адрес нашего устройства, от DHCP сервера при помощи `hostname -i`.

   ![get device ip](./screenshots/part3-5.png)

   > **DHCP** (Dynamic Host Configuration Protocol) - это протокол, который используется в компьютерных сетях для автоматической настройки сетевых параметров устройствам, подключенным к сети. Он позволяет устройствам автоматически получать IP-адрес, подсеть, шлюз по умолчанию и другие сетевые параметры от DHCP-сервера.

5. Выведем на экран внутренний и внешний IP-адреса шлюза. Внутреннний с помощью команды `ip route` Внешний с помощью команды `curl ifconfig.me/ip`.

   ![gateway ips](./screenshots/part3-6.png)

   Внутренний IP 10.0.2.15, внешний 178.207.154.253

  ---

6. Зададим статичные настройки ip, gw, dns7. Используя публичные DNS серверы (1.1.1.1, 8.8.8.8).

   Для начала нам нужно открыть файл конфигурации Netplan, откроем его с помощью команды `sudo vim /etc/netplan/00-installer-config.yaml`.

   ![raw netplan](./screenshots/part3-7.png)

   Теперь нам нужно внести в него изменения. В первую очередь выставляем параметр false для dhcp4. Это необходимо для того чтобы отключить автоматическое распределение IP.
   Далее указываем наш статический IP адрес.

   ![edited netplan](./screenshots/part3-8.png)

   Далее сохраняем изменения с помощью `sudo netplan apply` и перезагружаем машину с помощью `rebot`.

7. После перезагрузки нам необходимо убедиться, что статичные сетевые настройки (ip, gw, dns) соответствуют заданным ранее. Для этого пропингуем ping `1.1.1.1` и `ya.ru`.

   ![ping](./screenshots/part3-9.png)

## Part 4 Обновление ОС

1. Обновим ОС до последней актуальной версии с помощью `sudo apt update` и `sudo apt upgrade`.

    Проверяем наличие актуальных версий до обновления всех пакетов

   ![many upgradble packadges](./screenshots/part4-1.png)

   Проверяем наличие актуальных версий после обновления всех пакетов

   ![none upgradble packadges](./screenshots/part4-2.png)

## Part 5 Использование команды sudo

1. > **sudo** (Superuser Do) - это команда в операционных системах Unix и Unix-подобных системах, таких как Linux. Она позволяет пользователям выполнять команды с привилегиями суперпользователя или другого
пользователя, обычно требующиеся для выполнения административных задач или доступа к защищенным системным файлам.

   Выдадим права суперпользователя нашему многоуважаемому абобусу с помощью команды `sudo usermod -a -G sudo abobus`

   ![sudoing abobus](./screenshots/part5-1.png)

## Part 6 Установка и настройка службы времени

1. Проверим синхронизацию времени следующей командой `timedatectl show`

   ![synchronized time](./screenshots/part6-1.png)

## Part 7 Установка и использование текстовых редакторов

1. Откроем файл с помощью команды `vim test_vim.txt` и впишем туда свой ник, для этого с помощью `i` войдем в режим редактирования, внесем изменения выйдем из режма редактирования с помощью клавиши `esc`. Для закрытия файла с сохранение внесенных изменений введем `:wq` и нажмем `enter`.

   ![vim](./screenshots/part7-1.png)

   Откроем файл с помощью команды `nano test_nano.txt` и впишем туда свой ник, для этого не нужно переключать ничего. После внесения изменений нажмем `ctrl + o` для сохранения изменений и `ctrl + x` для закрытия файла, перед закрытием `nano` уточнит под каким именем мы хотим сохранить файл.

   ![nano](./screenshots/part7-2.png)

   Откроем файл с помощью команды `joe test_joe.txt` и впишем туда свой ник, для этого не нужно переключать ничего. После внесения изменений нажмем `ctrl + k + q` для закрытия файла, перед закрытием `joe` уточнит хотим ли мы сохранять файл выбираем опцию `y`.

   ![joe](./screenshots/part7-3.png)

   Итоговое содержание файлов

   ![total](./screenshots/part7-4.png)

2. Откроем файл с помощью команды `vim test_vim.txt` и впишем туда "21 School 21", для этого с помощью `i` войдем в режим редактирования, внесем изменения выйдем из режма редактирования с помощью клавиши `esc`. Для закрытия файла с сохранение внесенных изменений введем `:q!` и нажмем `enter`.

   ![vim](./screenshots/part7-5.png)

   Откроем файл с помощью команды `nano test_nano.txt` и впишем туда "21 School 21", для этого не нужно переключать ничего. После внесения изменений нажмем `ctrl + x` для закрытия файла, перед закрытием `nano` уточнит хотим ли мы сохранять файл выбираем опцию `n`.

   ![nano](./screenshots/part7-6.png)

   Откроем файл с помощью команды `joe test_joe.txt` и впишем туда "21 School 21", для этого не нужно переключать ничего. После внесения изменений нажмем `ctrl + k + q` для закрытия файла, перед закрытием `joe` уточнит хотим ли мы сохранять файл выбираем опцию `n`.

   ![joe](./screenshots/part7-7.png)

   Итоговое содержание файлов

   ![total](./screenshots/part7-4.png)

3. Поиск в `vim` реализован с помощью `/search` в режиме командной строки, где `search` искомое слово.

   ![vim search](./screenshots/part7-8.png)

   Поиск и замена в `vim` реализован с помощью `:s/search/replace` в режиме командной строки, где `search` искомое слово, а `replace` то на которое мы хотим заменить.

   ![vim replace](./screenshots/part7-9.png)

   Поиск в `nano` можно выполнить нажав комбинацию клавиш `ctrl + w`.

   ![nano search](./screenshots/part7-10.png)

   Замена в `nano` является продолжением поиска. После нахождения слова через комбинацию клавиш `ctrl + w` мы можем ввести слово которым будем заменять через `ctrl + r`.

   ![nano replace](./screenshots/part7-11.png)

   Поиск в `joe` можно выполнить нажав комбинацию клавиш `ctrl + k + f`.

   ![joe search](./screenshots/part7-12.png)

   Замена в `joe` является продолжением поиска. После нахождения слова через комбинацию клавиш `ctrl + k + f` мы можем нажать `r` для перехода в режим замены.

   ![joe replace](./screenshots/part7-13.png)

## Part 8 Установка и базовая настройка сервиса SSHD

1. Установим SSHD можно с помощью команды `sudo apt-get install ssh` и команды `sudo apt install openssh-server`.
   
   ![install sshd](./screenshots/part8-1.png)

2. Добавим SSHD в автозапуск с помощью команды `sudo systemctl enable ssh`.

   ![autoboot sshd](./screenshots/part8-2.png)

3. Перенастроим службу SSHD на порт 2022, используя `vim`, открываем файл конфигурации с помощью команды `sudo vim /etc/ssh/sshd_config`.

   ![change port sshd](./screenshots/part8-3.png)

4. Используя команду `ps -C sshd` показываем наличие процесса `sshd`. Для этого я буду использовать ключ `-С`.

   ![ps usage](./screenshots/part8-4.png)  

   > Команда `ps` используется для треккинга процессов в операционной системе. Ключ `-C` указывает команде `ps` на то, чтобы отобразить только процессы с указанным именем.

5. Проверим вывод команды `netstat -tan`.

   ![checking port](./screenshots/part8-5.png)

   > Команда `netstat` используется для отображения сетевых соединений и портов на компьютере. Ключ `t` указывает на отображение только TCP-соединений. Ключ `a` указывает на отображение всех соединений, включая прослушивающие порты, активные соединения и соединения в ожидании. Ключ `n` указывает на отображение портов и IP-адресов в числовом формате, а не в виде имен.

   > Столбец `Proto` указывает на протокол соединения, в данном случае только `tcp` соединения из-за флага. Столбец `Recv-Q` указывает на количество байтов данных, ожидающих получения приемником. Столбец`Send-Q` указывает на количество байтов данных, ожидающих отправки отправителем. Столбец`Local Address` указывает на локальный IP-адрес и порт, на котором установлено соединение. Столбец `Foreign Address` указывает на внешний IP-адрес и порт, с которым установлено соединение. Столбец `State` указывает на текущее состояние соединения. `LISTEN` означает, что порт прослушивается и готов принимать соединения, а `ESTABLISHED` означает, что соединение уже установлено и активно.

   > Значение `0.0.0.0` в столбце `Foreign Address` означает, что соединение установлено с любым внешним IP-адресом. Это шаблонный адрес, указывающий н то что соединение может быть установлено с любым удаленным узлом.

## Part 9 Установка и использование утилит top, htop

1. uptime 28 min

   количество авторизованных пользователей `1 user`

   общая загрузка системы `0.00%`

   общее количество процессов` 96 total`

   загрузка cpu `0.0%`

   загрузка памяти `144.6 used`

   ![checking process](./screenshots/part9-1.png)

   pid процесса занимающего больше всего памяти `642 PID`

   ![checking pid mem](./screenshots/part9-2.png)

   pid процесса, занимающего больше всего процессорного времени `119 PID`

   ![checking pid proc](./screenshots/part9-3.png)

2. сортировка по `PID`

   ![pid sort](./screenshots/part9-4.png)

   сортировка по `PERCENT_CPU`

   ![cpu sort](./screenshots/part9-5.png)

   сортировка по `PERCENT_MEM`

   ![mem sort](./screenshots/part9-6.png)

   сортировка по `TIME`

   ![time sort](./screenshots/part9-7.png)

   сортировка по `sshd` с помощью `F4`

   ![sshd sort](./screenshots/part9-8.png)

   поиск по `syslog` с помощью `F3`

   ![syslog search](./screenshots/part9-9.png)

   добавление параметрв `hostname`, `clock` и `uptime` с помощью `F2`

   ![add params](./screenshots/part9-9.png)


## Part 10 Использование утилиты fdisk

1. Запустим команду `sudo fdisk -l` и найдем нужные параметры жесткого диска.
   
   название `VBOX HARDDISK`

   размер `15 GiB`

   количество секторов `31457280 sectors`

   ![fdisk output](./screenshots/part10-1.png)

   размер swap `1.9Gi`

   ![swap output](./screenshots/part10-2.png)

## Part 11 Использование утилиты df

1. Запустим команду `df` и найдем нужные параметры дискового пространства.

   размер раздела `1768056`

   размер занятого пространства `110504`

   размер свободного пространства `1549420`

   процент использования `7%`

   еденица измерения вывода `Kbyte`

   ![df output](./screenshots/part11-1.png)

2. Запустим команду `df -Th` и найдем нужные параметры дискового пространства.

   размер раздела `1.7G`

   размер занятого пространства `108M`

   размер свободного пространства `1.5G`

   процент использования `7%`

   тип файловой системы `ext4`

   ![df th output](./screenshots/part11-2.png)

## Part 12 Использование утилиты du

1. Запустим команду `du -sh /var/log /home /var` и выведем размер папок в байтах.

   ![du folders](./screenshots/part12-1.png)

1. Запустим команду `du -sh /var/log/*` и выведем размер всего содержимого в /var/log.

   ![du varlog](./screenshots/part12-2.png)

## Part 13 Установка и использование утилиты ncdu

1. Установим утилиту `ncdu`.
   
   ![ncdu install](./screenshots/part13-1.png)

2. Размер папки `/home`

   ![ncdu home](./screenshots/part13-2.png)

   Размер папки `/var`

   ![ncdu var](./screenshots/part13-3.png)

   Размер папки `/var/log`

   ![ncdu varlog](./screenshots/part13-4.png)

## Part 14 Работа с системными журналами

1. Откроем `/var/log/dmesg`

   ![dmesg](./screenshots/part14-1.png)

2. Откроем `/var/log/syslog`

   ![syslog](./screenshots/part14-2.png)

3. Откроем `/var/log/auth.log`

   ![authlog](./screenshots/part14-3.png)

   Время последней успешной авторизации `Dec 18 22:44:45`

   Имя пользователя `user-2`

   Метод входа в систему `pam_unix`

   Перезапуск sshd
  
  ![authlog sshd](./screenshots/part14-4.png)

## Part 15 Использование планировщика заданий CRON

1. Используя планировщик заданий, запустим команду uptime через каждые 2 минуты `sudo crontab -e`.

   ![cron uptime](./screenshots/part15-1.png)

   ![cron tab](./screenshots/part15-2.png)

   ![cron syslog](./screenshots/part15-3.png)

   ![cron tab empty](./screenshots/part15-4.png)